# .codex/intelligence/predictive_routing.yml\n# Anticipatory task creation based on project phase and dependencies\n\npredictive_intelligence:\n\n  phase_anticipation:\n    current_phase: "land_acquisition"\n    next_phase_prep:\n      - name: "planning_application_prep"\n        trigger_when: "80% land contracts signed"\n        pre_create_tasks:\n          - "TASK-LAW-PA001: Draft planning application outline"\n          - "TASK-GIS-PA002: Prepare site analysis package"\n          - "TASK-CIVIL-PA003: Preliminary infrastructure assessment"\n        notify_agents: ["LAW", "GIS", "CIVIL"]\n\n      - name: "design_finalization"\n        trigger_when: "Planning permit approved"\n        pre_create_tasks:\n          - "TASK-MOD-DF001: Finalize modular designs for planning compliance"\n          - "TASK-ENG-DF002: Update printing specifications"\n          - "TASK-FIN-DF003: Revise cost models with final designs"\n\n  dependency_mapping:\n    # When X happens, Y will need to happen within N timeframe\n    cascading_triggers:\n\n      land_settlement:\n        event: "Land purchase completion"\n        cascade_timing:\n          immediate: # Same day\n            - "TASK-LAW-LS001: Initiate trust establishment"\n            - "TASK-GIS-LS002: Commission detailed survey"\n          week_1: # Within 7 days\n            - "TASK-CIVIL-LS003: Site access and utility assessment"\n            - "TASK-FIN-LS004: Activate construction loan facilities"\n          month_1: # Within 30 days\n            - "TASK-LAW-LS005: Planning application submission"\n            - "TASK-MOD-LS006: Site-specific design adaptations"\n\n      planning_approval:\n        event: "Planning permit issued"\n        cascade_timing:\n          immediate:\n            - "TASK-FIN-PA001: Release next construction funding tranche"\n            - "TASK-OPS-PA002: Initiate contractor tender process"\n          week_2:\n            - "TASK-ENG-PA003: Order 3DCP equipment for delivery"\n            - "TASK-CIVIL-PA004: Commence site infrastructure"\n          month_3:\n            - "TASK-MOD-PA005: Begin modular construction sequence"\n\n  seasonal_intelligence:\n    # Factor in external rhythms that affect the project\n    timing_optimizations:\n\n      council_rhythms:\n        pattern: "Planning applications processed faster in Feb-March, Aug-Sept"\n        recommendation: "Submit major applications in these windows"\n        auto_task: "TASK-LAW-SR001: Schedule planning submission for optimal timing"\n\n      construction_seasons:\n        pattern: "Concrete work optimal in moderate temperatures"\n        recommendation: "Schedule 3DCP printing for Mar-May, Sep-Nov"\n        auto_task: "TASK-ENG-SR002: Optimize printing schedule for weather"\n\n      financial_cycles:\n        pattern: "Equipment financing rates typically lowest in Q1"\n        recommendation: "Time major equipment purchases for Q1"\n        auto_task: "TASK-FIN-SR003: Schedule equipment financing for Q1"\n\n  risk_prediction:\n    # Identify emerging risks before they become problems\n    early_warning_system:\n\n      cost_inflation_monitoring:\n        trigger: "Materials cost increase >3% in 30 days"\n        prediction: "Total project cost inflation risk"\n        auto_actions:\n          - "TASK-FIN-EW001: Forecast cost impact across all entities"\n          - "TASK-PM-EW002: Assess schedule acceleration options"\n          - "TASK-STRAT-EW003: Review pricing strategy implications"\n\n      regulatory_change_signals:\n        trigger: "New building code consultation released"\n        prediction: "Potential design compliance issues"\n        auto_actions:\n          - "TASK-LAW-EW004: Analyze proposed changes"\n          - "TASK-MOD-EW005: Assess design impact"\n          - "TASK-ENG-EW006: Evaluate technical implications"\n\n  learning_optimization:\n    # System learns from its own performance\n    routing_effectiveness:\n\n      measure_metrics:\n        - "Time from file intake to first meaningful action"\n        - "Accuracy of auto-routing (% requiring manual re-routing)"\n        - "Task completion time vs. estimated time"\n        - "Cross-entity coordination success rate"\n\n      optimization_triggers:\n        - threshold: "Auto-routing accuracy <85%"\n          action: "Flag routing rules for review"\n          responsible: "PM"\n\n        - threshold: "Task completion >150% estimated time consistently"\n          action: "Review agent workload and complexity assumptions"\n          responsible: "Entity Lead"\n\n  context_awareness:\n    # System understands project context to make smarter decisions\n    project_state_monitoring:\n\n      financial_health:\n        green: "All entities within budget, cash flow positive"\n        amber: "One entity >10% over budget OR negative cash flow"\n        red: "Multiple entities over budget OR critical cash shortage"\n\n        routing_adjustments:\n          amber_state:\n            - "Route all cost-related docs to FIN first, regardless of content"\n            - "Auto-create budget review tasks for affected entities"\n          red_state:\n            - "Escalate all financial docs to PM immediately"\n            - "Suspend non-critical tasks across all entities"\n            - "Auto-create crisis management coordination tasks"\n\n      regulatory_risk:\n        green: "All permits current, no outstanding compliance issues"\n        amber: "Minor compliance gaps OR permit renewals due <60 days"\n        red: "Major compliance issues OR permit at risk"\n\n        routing_adjustments:\n          amber_state:\n            - "Prioritize LAW agent review of all regulatory docs"\n            - "Auto-create permit renewal preparation tasks"\n          red_state:\n            - "Immediately route ALL docs to LAW for compliance review"\n            - "Auto-create emergency compliance assessment tasks"\n\nintelligent_suggestions:\n  # System proactively suggests optimizations\n\n  cross_entity_synergies:\n    analysis_frequency: "Weekly"\n    look_for:\n      - "Underutilized resources in one entity that could help another"\n      - "Similar tasks across entities that could be consolidated"\n      - "Timing mismatches that create inefficiencies"\n\n    example_suggestions:\n      - condition: "GIS agent idle while ENG agent has spatial analysis backlog"\n        suggestion: "Temporarily assign GIS to support ENG spatial tasks"\n        auto_task: "TASK-PM-SYN001: Evaluate cross-entity resource sharing"\n\n      - condition: "PrinterCo equipment idle during BuildCo site preparation"\n        suggestion: "Seek external printing contracts to optimize utilization"\n        auto_task: "TASK-ENG-SYN002: Explore external service opportunities"\n\n  strategic_alerts:\n    market_opportunity_detection:\n      monitor: ["New accommodation demand data", "Competitor analysis", "Tourism trends"]\n      when: "Market conditions suggest demand >120% of initial projections"\n      alert: "PM and STRAT - Consider expansion opportunity"\n      auto_task: "TASK-STRAT-MO001: Evaluate expansion scenarios"\n\n    technology_advancement_tracking:\n      monitor: ["3DCP technology updates", "New materials", "Automation advances"]\n      when: "New technology could improve efficiency >20%"\n      alert: "ENG and FIN - Technology upgrade opportunity"\n      auto_task: "TASK-ENG-TA001: Assess technology upgrade ROI"\n